\setchapterimage{seaside}
\setchapterpreamble[u]{\margintoc}
\chapter{Instruction Set Architecture (ISA)}
\labch{isa}

%
% Key concepts and abilities
%==============================================================================
\begin{kaobox}[frametitle=In This Chapter]
you will learn
\begin{itemize}
	\item First topic
	\item Second topic
        \item Third topic
\end{itemize}

you will be able to
\begin{itemize}
        \item Task one
        \item Task two
        \item Task three
\end{itemize}
\end{kaobox}

% Introductory paragraph goes here
\blindtext

%
% Section: ISA Explained
%==============================================================================
\section{ISA Explained}
Explain what an ISA is.

%
% Section: Instruction cycle
%==============================================================================
\section{Instruction cycle}
\blindtext

\begin{figure}
\begin{bytefield}[bitwidth=auto]{16}
    \bitheader[endianness=big]{15,14,0} \\
\begin{rightwordgroup}{name field}
    \begin{leftwordgroup}[leftcurly=.]{$address (a)$}
        \bitbox{1}{$p$} &
        \bitbox{15}{$n$}
    \end{leftwordgroup} \\
    \bitbox{16}{$name_0$} \\
    \wordbox[]{1}{$\vdots$} \\[1ex]
    \begin{leftwordgroup}[leftcurly=.]{$a$ + $n$}
        \bitbox{16}{$name_n$}
    \end{leftwordgroup}
\end{rightwordgroup} \\
\begin{rightwordgroup}[rightcurly=.]{link address field}
    \begin{leftwordgroup}[leftcurly=.]{$a$ + $n$ + 1}
        \wordbox{1}{link address}
    \end{leftwordgroup}
\end{rightwordgroup} \\
\begin{rightwordgroup}[rightcurly=.]{code address field}
    \begin{leftwordgroup}[leftcurly=.]{$a$ + $n$ + 2}
        \wordbox{1}{code address}
    \end{leftwordgroup}
\end{rightwordgroup} \\
\begin{rightwordgroup}{data field ($m \ge 1$ cell)}
    \begin{leftwordgroup}[leftcurly=.]{$a$ + $n$ + 3}
        \wordbox{1}{$data_0$}
    \end{leftwordgroup} \\
    \wordbox[]{1}{$\vdots$} \\[1ex]
    \begin{leftwordgroup}[leftcurly=.]{$a$ + $n + 3 + m$}
    \wordbox{1}{$data_m$}
    \end{leftwordgroup}
\end{rightwordgroup}
\end{bytefield}

\caption[Dictionary entry format]{This is the MacroController Forth dictionary 
    entry format for a 16-bit system. Other Forth systems may implement a differnt format.}
	\labfig{dictionaryEntryFormat}
\end{figure}

where, \\
$a$ is the address of the word, \\
$p$ is the precedence bit (0,1), \\
$n$ is the number of characters in the word's name (e.g. DUP$_n = 3$), \\
$name_n$ is the $n^{th}$ character of the name, and \\
$m$ is the number of cells in the data field, \\
$data_m$ is the $m^{th}$ cell of the data field.

%
% Section: Instruction Format
%==============================================================================
\section{Instruction Format}

%
% Section: Instruction Timing
%==============================================================================
\section{Instruction Timing}

